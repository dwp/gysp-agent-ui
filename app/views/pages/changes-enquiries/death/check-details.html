{% extends 'pages/changes-enquiries/layout.html' %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% block pageTitle %}{{ pageData.header }} - Changes and enquiries{% endblock %}

{% block sectionBackLink %}
  {{ govukBackLink({
    text: t("app:link.back"),
    href: pageData.back,
    classes: "govuk-!-margin-top-0 govuk-!-margin-bottom-5"
  }) }}
{% endblock %}

{% block innerContent %}
  <h1 class="govuk-heading-l">{{ pageData.header }}</h1>
  {{ govukSummaryList({
    rows: [{
      key: { text: t("death-check-details:summary.name") },
      value: { text: pageData.name }
    }, {
      key: { text: t("death-check-details:summary.phone") },
      value: { text: pageData.phoneNumber }
    }, {
      key: { text: t("death-check-details:summary.address") },
      value: { html: pageData.address }
    }]
  }) }}

  {% if pageData.status == 'ARREARS' %}
    <p class="govuk-body govuk-!-margin-top-8 govuk-!-margin-bottom-7">{{ t("death-check-details:p.arrears") }}</p>
  {% elif pageData.status == 'OVERPAYMENT' %}
    <p class="govuk-body govuk-!-margin-top-8">{{ t("death-check-details:p.overpayment") }}</p>
    <ul class="govuk-list govuk-list--bullet govuk-!-margin-bottom-7">
      <li>{{ t("death-check-details:list.overpayment.li1") }}</li>
      <li>{{ t("death-check-details:list.overpayment.li2") }}</li>
    </ul>
  {% elif pageData.status == 'CANNOT_CALCULATE' %}
    <p class="govuk-body govuk-!-margin-top-8 govuk-!-margin-bottom-7">{{ t("death-check-details:p.cannot-calculate") }}</p>
  {% endif %}

  {{ govukButton({
    text: pageData.buttonText,
    href: pageData.button
  }) }}
{% endblock %}
